
@model IEnumerable<TEMPLATE.Models.station_lavage>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Layouts/_Default.cshtml";
}
<div class="main-panel">
 <div class="container">

    <div class="panel-header bg-primary-gradient">
       <div class="page-inner py-3">
          <div class="d-flex align-items-left align-items-md-center flex-column flex-md-row">
             <div>
              <h2 class="text-white pb-2 fw-bold">
                Station  de lavage
            </h2>
        </div>
        <div class="ml-md-auto py-2 py-md-0">
         <!-- PAGE-HEADER -->
         <div class="page-header">
            <ol class="breadcrumb">
               <li class="breadcrumb-item">
                  <a href="#">Home</a>
              </li>
              <li class="breadcrumb-item">
                <a href="#">Station  de lavage</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
              Liste 
          </li>
      </ol>
  </div>
  <!-- PAGE-HEADER END -->
</div>
</div>
</div>
</div>

<!-- YOUR CODE HERE
 --><div class="card-body rec-pat">    
@{
IEnumerable<TEMPLATE.Models.station_lavage> stations = ViewData["station"] as IEnumerable<TEMPLATE.Models.station_lavage>;
IEnumerable<TEMPLATE.Models.historique_station> historiques = ViewData["historique"] as IEnumerable<TEMPLATE.Models.historique_station>;
}
@{

List<int> IDstation= new List<int>();
}
@foreach (TEMPLATE.Models.historique_station iteme in historiques)
{
IDstation.Add(iteme.ID_station);
}
<div class="container-fluid">
   <div class="table-responsive">
     <table class="table table-striped  table-bordered  " id="mytable"  style="width:100%">
        <thead> 
        <tr style="background-color:darkturquoise">
            <th>NO</th>
            <th>NOM </th>
            <th>TEL</th>
            <th>  DATE DE CREATION</th>
            <th>ZONE</th>
            <th>ETAT</th>     
        </tr>
        </thead>
        <tbody>
        @{ int NO=0;}
        @foreach (TEMPLATE.Models.station_lavage item in stations)
        {
            NO=NO+1;
            if (IDstation.Contains(item.ID_station) == true)
            {
                <tr>
                    <td>
                        @NO
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NOM_station)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TEL_station)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DATE_insertion)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.zone.NOM_zone)
                    </td>

                    <td>
                        Inactif
                    </td>
                               
                </tr>
            }
            else
            {
                <tr>
                    <td>
                        @NO
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NOM_station)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TEL_station)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DATE_insertion)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.zone.NOM_zone)
                    </td>
                    <td>
                        Actifs
                    </td>         
                </tr>
            }
        }
    </tbody>
     </table>
    </div>
  </div>
 </div>
</div>



